<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
                      
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
    <title>Fedora Directory Ingest Service</title> 
    <link rel="stylesheet" type="text/css" href="docstyle.css" />
    <style type="text/css">
        ol {
            list-style: square outside none;
        }
        
        ol ol {
            list-style: disc outside none;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
<div id="header">
    <a href="" id="logo"></a>
    <div id="title">
        <h1>Fedora Directory Ingest Service</h1>
        <h2>Version 1.0a</h2>
    </div>
</div>

<div id="toc">
    <h2>Table of Contents</h2>

    <div id="tocbox">
        <ol>
            <li><a href="#overview">Overview</a></li>
            <li><a href="#installation">Installation</a>
              <ol>
                <li> <a href="#prerequisites">Prerequisites</a></li>
                <li> <a href="#setup">Setup</a></li>
              </ol>
            </li>
            <li><a href="#service">Using the Service</a></li>
            <li><a href="#sip2fox">Using the SIP2FOX Utility</a></li>
            <li><a href="#sip">Preparing a SIP</a></li>
            <li><a href="#rules">Specifying Conversion Rules</a></li>
        </ol>
    </div>

</div>

<div class="sect">
  <h2><a name="overview">1. Overview</a></h2>
  <p>
     This service constructs Fedora objects from Submission Information
     Packages ("SIPs") and ingests those objects into a Fedora repository.
     It is exposed as a REST-style web service that accepts input via
     HTTP POST and (if successful) returns an XML document with the
     list of PIDs of the ingested objects.
  </p>
</div>

<div class="sect">
  <h2><a name="installation">2. Installation</a></h2>
  <div class="subsect">
    <h3><a name="prerequisites">A. Prerequisites</a></h3>
    <p>
      <ul> 
        <li> A running Fedora repository, version 2.0+.</li>
        <li> A servlet container that supports the Servlet API v2.3+</li>
      </ul>
    </p>
    <h3><a name="setup">B. Setup</a></h3>
    <p>
       <em>Note: These instructions are written assuming you are using
       Tomcat.  Webapp deployment may differ for your servlet container.</em>
    </p>
    <p>
        First, copy the diringest.war file to the "webapps" directory
        and re-start Tomcat.  The war file should be expanded into
        "webapps/diringest". 
    </p>
    <p>
        Edit the "WEB-INF/classes/diringest.properties" file, changing the
        values to what is appropriate for your installation.
    </p>
    <div class="code"><pre>
#
# Required settings for remote Fedora repository.
# These are used for the pid generation and ingest functions.
#
fedora.host = localhost
fedora.port = 8080
fedora.user = fedoraAdmin
fedora.pass = fedoraAdmin

#
# Optional preferred namespace part for PIDs.
# Comment this out to use the default from the target Fedora repository
#
pid.namespace = demo
</pre></div>
     <p>
       <em>Optional</em>: If desired, modify the default conversion rules file 
       in this directory (crules.xml).  See <a href="#rules">the section 
       below on specifying conversion rules</a>.
     </p>
     <p>
       Finally, ensure that your Fedora server is running, and re-start Tomcat.
     </p>
  </div>
</div>

<div class="sect">
  <h2><a name="service">3. Using the Service</a></h2>
  <p>
    Once installed, the service will be exposed from your servlet
    container at "diringest/ingestSIP".  For example:
  </p>
    <div class="code"><pre>
http://localhost/diringest/ingestSIP
</pre></div>
</div>

<div class="sect">
  <h2><a name="sip2fox">4. Using the SIP2FOX Utility</a></h2>
  <p>
  </p>
</div>

<div class="sect">
  <h2><a name="sip">5. Preparing a SIP</a></h2>
  <p>
  </p>
</div>

<div class="sect">
  <h2><a name="rules">6. Specifying Conversion Rules</a></h2>
  <p>
  </p>
</div>

<div id="footer">
    <div id="copyright">
        Copyright &#xA9; 2005 Fedora Project
    </div>
    <div id="lastModified">
        Last Modified
        <script type="text/javascript">
            var cvsDate = "$Date$";
            var parts = cvsDate.split(" ");
            var modifiedDate = parts[1];
            document.write(modifiedDate);
        </script>
    </div>
</div>

</body>
</html>
